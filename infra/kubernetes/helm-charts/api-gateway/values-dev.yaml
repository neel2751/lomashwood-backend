replicaCount: 1

image:
  pullPolicy: Always

ingress:
  annotations:
    nginx.ingress.kubernetes.io/use-regex: "true"
    nginx.ingress.kubernetes.io/proxy-body-size: "50m"
    nginx.ingress.kubernetes.io/proxy-read-timeout: "120"
    nginx.ingress.kubernetes.io/proxy-send-timeout: "120"
    nginx.ingress.kubernetes.io/proxy-connect-timeout: "10"
    nginx.ingress.kubernetes.io/configuration-snippet: |
      more_set_headers "X-Content-Type-Options: nosniff";
      more_set_headers "X-Frame-Options: DENY";
      more_set_headers "X-XSS-Protection: 1; mode=block";
  hosts:
    - host: api.dev.lomashwood.co.uk
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: api-gateway-dev-tls
      hosts:
        - api.dev.lomashwood.co.uk

resources:
  requests:
    cpu: 50m
    memory: 64Mi
  limits:
    cpu: 250m
    memory: 256Mi

startupProbe:
  failureThreshold: 30

autoscaling:
  enabled: false

podDisruptionBudget:
  enabled: false

topologySpreadConstraints: []

affinity: {}

terminationGracePeriodSeconds: 10

env:
  NODE_ENV: development
  LOG_LEVEL: debug
  LOG_FORMAT: pretty
  CORS_ORIGIN: "http://localhost:3000,http://localhost:5173,https://api.dev.lomashwood.co.uk"
  RATE_LIMIT_MAX_REQUESTS: "1000"
  RATE_LIMIT_SKIP_SUCCESSFUL: "true"
  BODY_LIMIT: 50mb
  REQUEST_TIMEOUT_MS: "60000"
  AUTH_SERVICE_URL: http://auth-service.lomashwood-dev.svc.cluster.local
  USER_SERVICE_URL: http://user-service.lomashwood-dev.svc.cluster.local
  PRODUCT_SERVICE_URL: http://product-service.lomashwood-dev.svc.cluster.local
  ORDER_SERVICE_URL: http://order-service.lomashwood-dev.svc.cluster.local
  APPOINTMENT_SERVICE_URL: http://appointment-service.lomashwood-dev.svc.cluster.local
  NOTIFICATION_SERVICE_URL: http://notification-service.lomashwood-dev.svc.cluster.local
  ANALYTICS_SERVICE_URL: http://analytics-service.lomashwood-dev.svc.cluster.local
  PAYMENT_SERVICE_URL: http://payment-service.lomashwood-dev.svc.cluster.local
  CMS_SERVICE_URL: http://cms-service.lomashwood-dev.svc.cluster.local
  FILE_SERVICE_URL: http://file-service.lomashwood-dev.svc.cluster.local
  UPSTREAM_TIMEOUT_MS: "30000"
  UPSTREAM_RETRY_ATTEMPTS: "1"
  CIRCUIT_BREAKER_THRESHOLD: "80"
  JWT_AUDIENCE: api.dev.lomashwood.co.uk
  JWT_ISSUER: auth.dev.lomashwood.co.uk
  REDIS_KEY_PREFIX: "lomash:gw:dev:"

networkPolicy:
  enabled: false

serviceMonitor:
  enabled: false

podAnnotations:
  prometheus.io/scrape: "false"
  prometheus.io/path: "/metrics"
  prometheus.io/port: "9090"