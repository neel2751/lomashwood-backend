import type { NotificationTemplate } from '@prisma/client';
import { FIXED_DATE } from './common.fixture';

export const appointmentReminderPushTemplateFixture: NotificationTemplate = {
  id:          'clxtmpla0000000000000000010',
  name:        'Appointment Reminder Push',
  slug:        'appointment-reminder-push',
  description: 'Push notification reminder 24 hours before appointment.',
  category:    'APPOINTMENT_REMINDER',
  type:        'PUSH',
  status:      'ACTIVE',
  subject:     null,
  preheader:   null,
  htmlBody:    null,
  textBody:    null,
  smsBody:     null,
  smsFrom:     null,
  pushTitle:   'Appointment Tomorrow – Lomash Wood',
  pushBody:    'Your {{appointmentType}} appointment is tomorrow at {{appointmentTime}}. Tap to manage.',
  pushIcon:    '/icons/calendar.png',
  pushImage:   null,
  pushData:    { action: 'open_appointment', screen: 'appointments' },
  variables:   [
    { key: 'appointmentType', required: true, type: 'string' },
    { key: 'appointmentTime', required: true, type: 'string' },
    { key: 'appointmentRef',  required: true, type: 'string' },
  ],
  engine:      'handlebars',
  version:     1,
  publishedAt: FIXED_DATE,
  archivedAt:  null,
  createdBy:   'seed',
  updatedBy:   null,
  createdAt:   FIXED_DATE,
  updatedAt:   FIXED_DATE,
  deletedAt:   null,
};

export const orderConfirmationPushTemplateFixture: NotificationTemplate = {
  id:          'clxtmplb0000000000000000011',
  name:        'Order Confirmation Push',
  slug:        'order-confirmation-push',
  description: 'Push notification after order placed.',
  category:    'ORDER_CONFIRMATION',
  type:        'PUSH',
  status:      'ACTIVE',
  subject:     null,
  preheader:   null,
  htmlBody:    null,
  textBody:    null,
  smsBody:     null,
  smsFrom:     null,
  pushTitle:   'Order Confirmed – Lomash Wood',
  pushBody:    'Your order {{orderRef}} has been confirmed. Total: £{{totalAmount}}.',
  pushIcon:    '/icons/checkmark.png',
  pushImage:   null,
  pushData:    { action: 'open_order', screen: 'orders' },
  variables:   [
    { key: 'orderRef',    required: true, type: 'string' },
    { key: 'totalAmount', required: true, type: 'string' },
  ],
  engine:      'handlebars',
  version:     1,
  publishedAt: FIXED_DATE,
  archivedAt:  null,
  createdBy:   'seed',
  updatedBy:   null,
  createdAt:   FIXED_DATE,
  updatedAt:   FIXED_DATE,
  deletedAt:   null,
};

export const loyaltyPointsPushTemplateFixture: NotificationTemplate = {
  id:          'clxtmplc0000000000000000012',
  name:        'Loyalty Points Earned Push',
  slug:        'loyalty-points-earned-push',
  description: 'Push notification when loyalty points are earned.',
  category:    'LOYALTY_POINTS_EARNED',
  type:        'PUSH',
  status:      'ACTIVE',
  subject:     null,
  preheader:   null,
  htmlBody:    null,
  textBody:    null,
  smsBody:     null,
  smsFrom:     null,
  pushTitle:   'You earned {{points}} loyalty points!',
  pushBody:    'Keep designing with Lomash Wood to unlock rewards.',
  pushIcon:    '/icons/star.png',
  pushImage:   null,
  pushData:    { action: 'open_loyalty', screen: 'loyalty' },
  variables:   [
    { key: 'points', required: true, type: 'number' },
  ],
  engine:      'handlebars',
  version:     1,
  publishedAt: FIXED_DATE,
  archivedAt:  null,
  createdBy:   'seed',
  updatedBy:   null,
  createdAt:   FIXED_DATE,
  updatedAt:   FIXED_DATE,
  deletedAt:   null,
};

export const pushTemplateWithNoTitleFixture: NotificationTemplate = {
  ...appointmentReminderPushTemplateFixture,
  id:        'clxtmpld0000000000000000013',
  slug:      'push-template-no-title',
  pushTitle: null,
  pushBody:  null,
};

export const allPushTemplatesFixture: NotificationTemplate[] = [
  appointmentReminderPushTemplateFixture,
  orderConfirmationPushTemplateFixture,
  loyaltyPointsPushTemplateFixture,
];