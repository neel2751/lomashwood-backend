NODE_ENV=development
PORT=4003
HOST=localhost
APP_NAME=order-payment-service
APP_VERSION=1.0.0

DATABASE_URL=postgresql://postgres:Yaksh@2610@localhost:5432/lomash_wood_orders?schema=public
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_SSL_ENABLED=false
DATABASE_LOG_QUERIES=false

DB_HOST=localhost
DB_PORT=5432
DB_NAME=lomash_wood_orders
DB_USER=postgres
DB_PASSWORD=Yaksh@2610
DB_SCHEMA=public

REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_KEY_PREFIX=lomash:order-payment:
REDIS_TLS_ENABLED=false
REDIS_CLUSTER_MODE=false

CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=15m
JWT_REFRESH_SECRET=your-super-secret-refresh-token-key
JWT_REFRESH_EXPIRES_IN=7d

SESSION_SECRET=your-session-secret-change-this-in-production
SESSION_EXPIRES_IN=86400000

BCRYPT_ROUNDS=10

API_KEY_HEADER=x-api-key
INTERNAL_API_KEY=your-internal-api-key-change-this

STRIPE_SECRET_KEY=sk_test_51xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_PUBLISHABLE_KEY=pk_test_51xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
STRIPE_API_VERSION=2023-10-16
STRIPE_CURRENCY=gbp
STRIPE_PAYMENT_METHODS=card,apple_pay,google_pay
STRIPE_CAPTURE_METHOD=automatic
STRIPE_SETUP_FUTURE_USAGE=off_session
STRIPE_STATEMENT_DESCRIPTOR=LOMASH WOOD

RAZORPAY_KEY_ID=rzp_test_xxxxxxxxxx
RAZORPAY_KEY_SECRET=xxxxxxxxxxxxxxxxxx
RAZORPAY_WEBHOOK_SECRET=xxxxxxxxxxxxxxxxxx
RAZORPAY_ENABLED=false

API_GATEWAY_URL=http://localhost:4000
AUTH_SERVICE_URL=http://localhost:4001
PRODUCT_SERVICE_URL=http://localhost:4002
ORDER_PAYMENT_SERVICE_URL=http://localhost:4003
APPOINTMENT_SERVICE_URL=http://localhost:4004
CONTENT_SERVICE_URL=http://localhost:4005
CUSTOMER_SERVICE_URL=http://localhost:4006
NOTIFICATION_SERVICE_URL=http://localhost:4007
ANALYTICS_SERVICE_URL=http://localhost:4008

CORS_ORIGIN=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL=false
PAYMENT_RATE_LIMIT_WINDOW_MS=3600000
PAYMENT_RATE_LIMIT_MAX_REQUESTS=10

LOG_LEVEL=debug
LOG_FORMAT=json
LOG_DIR=logs
LOG_FILE_MAX_SIZE=20m
LOG_FILE_MAX_FILES=14
LOG_CONSOLE_ENABLED=true
LOG_FILE_ENABLED=true
LOG_ERROR_FILE=logs/error.log
LOG_COMBINED_FILE=logs/combined.log
LOG_ACCESS_FILE=logs/access.log

NOTIFICATION_SERVICE_ENABLED=true
SEND_ORDER_CONFIRMATIONS=true
SEND_PAYMENT_RECEIPTS=true
SEND_REFUND_NOTIFICATIONS=true
SEND_INVOICE_EMAILS=true

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-email-password
SMTP_FROM_NAME=Lomash Wood
SMTP_FROM_EMAIL=orders@lomashwood.com

AWS_SES_ENABLED=false
AWS_SES_REGION=eu-west-2
AWS_SES_FROM_EMAIL=orders@lomashwood.com
AWS_ACCESS_KEY_ID=AKIAIOSFODNN7EXAMPLE
AWS_SECRET_ACCESS_KEY=wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY
AWS_REGION=eu-west-2
AWS_S3_BUCKET=lomash-wood-invoices
AWS_S3_INVOICE_PREFIX=invoices/
AWS_S3_RECEIPT_PREFIX=receipts/
AWS_CLOUDFRONT_URL=https://d123456789.cloudfront.net

LOCAL_STORAGE_ENABLED=true
LOCAL_STORAGE_PATH=./storage/uploads
LOCAL_STORAGE_INVOICE_PATH=./storage/invoices

QUEUE_ENABLED=true
QUEUE_REDIS_URL=redis://localhost:6379
QUEUE_DEFAULT_ATTEMPTS=3
QUEUE_BACKOFF_DELAY=5000
QUEUE_REMOVE_ON_COMPLETE=100
QUEUE_REMOVE_ON_FAIL=false
QUEUE_ORDER_PROCESSING=order-processing
QUEUE_PAYMENT_PROCESSING=payment-processing
QUEUE_INVOICE_GENERATION=invoice-generation
QUEUE_EMAIL_SENDING=email-sending
QUEUE_WEBHOOK_RETRY=webhook-retry

CRON_ENABLED=true
CRON_RECONCILE_PAYMENTS=0 2 * * *
CRON_EXPIRE_ORDERS=*/15 * * * *
CRON_RETRY_FAILED_WEBHOOKS=*/30 * * * *
CRON_CLOSE_ABANDONED_CHECKOUTS=0 */6 * * *
CRON_GENERATE_DAILY_REPORTS=0 1 * * *

ORDER_NUMBER_PREFIX=LW
ORDER_NUMBER_LENGTH=10
ORDER_EXPIRY_TIME=3600000
ORDER_MAX_ITEMS=50
ORDER_MIN_AMOUNT=100
ORDER_MAX_AMOUNT=1000000
ORDER_DEFAULT_STATUS=PENDING
ORDER_AUTO_CANCEL_TIME=86400000

PAYMENT_TIMEOUT=300000
PAYMENT_RETRY_ATTEMPTS=3
PAYMENT_RETRY_DELAY=5000
PAYMENT_MIN_AMOUNT=1.00
PAYMENT_MAX_AMOUNT=100000.00
PAYMENT_CURRENCY=GBP
PAYMENT_CAPTURE_METHOD=automatic
THREE_D_SECURE_ENABLED=true
THREE_D_SECURE_THRESHOLD=3000

REFUND_ENABLED=true
REFUND_MAX_DAYS=30
REFUND_AUTO_APPROVE_THRESHOLD=5000
REFUND_PROCESSING_TIME=5-10 business days

INVOICE_ENABLED=true
INVOICE_NUMBER_PREFIX=INV
INVOICE_NUMBER_LENGTH=10
INVOICE_LOGO_URL=https://lomashwood.com/logo.png
INVOICE_COMPANY_NAME=Lomash Wood Ltd
INVOICE_COMPANY_ADDRESS=123 Design Street, London, UK
INVOICE_COMPANY_PHONE=+44 20 1234 5678
INVOICE_COMPANY_EMAIL=info@lomashwood.com
INVOICE_COMPANY_WEBSITE=https://lomashwood.com
INVOICE_TAX_ID=GB123456789
INVOICE_VAT_RATE=20
INVOICE_AUTO_GENERATE=true
INVOICE_FORMAT=pdf
INVOICE_SEND_EMAIL=true

TAX_ENABLED=true
TAX_RATE=20
TAX_INCLUSIVE=false
TAX_NAME=VAT
TAX_NUMBER=GB123456789
TAX_RATE_UK=20
TAX_RATE_EU=20
TAX_RATE_US=0

SHIPPING_ENABLED=true
SHIPPING_FREE_THRESHOLD=50000
SHIPPING_DEFAULT_COST=500
SHIPPING_CALCULATION_METHOD=flat_rate
SHIPPING_PROVIDER=royal_mail
SHIPPING_API_KEY=
SHIPPING_TRACKING_ENABLED=true

COUPON_ENABLED=true
COUPON_MAX_USAGE_PER_USER=1
COUPON_CODE_LENGTH=8
COUPON_STACKABLE=false

WEBHOOK_ENABLED=true
WEBHOOK_TIMEOUT=30000
WEBHOOK_RETRY_ATTEMPTS=3
WEBHOOK_RETRY_DELAY=60000
WEBHOOK_SECRET=your-webhook-secret-change-this
WEBHOOK_ORDER_CREATED=
WEBHOOK_ORDER_UPDATED=
WEBHOOK_PAYMENT_SUCCEEDED=
WEBHOOK_PAYMENT_FAILED=

MONITORING_ENABLED=true
METRICS_ENABLED=true
METRICS_PORT=9103
METRICS_PATH=/metrics

SENTRY_ENABLED=false
SENTRY_DSN=https://xxxx@sentry.io/xxxx
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=order-payment-service

HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

FEATURE_PARTIAL_PAYMENTS=false
FEATURE_INSTALLMENTS=false
FEATURE_GIFT_CARDS=false
FEATURE_STORE_CREDIT=false
FEATURE_AUTO_REFUND=false
FEATURE_FRAUD_DETECTION=true
FEATURE_DYNAMIC_PRICING=false

FRAUD_DETECTION_ENABLED=true
FRAUD_DETECTION_THRESHOLD=0.75
FRAUD_MAX_FAILED_ATTEMPTS=3
FRAUD_BLOCK_DURATION=3600000

ANALYTICS_ENABLED=true
ANALYTICS_TRACK_EVENTS=true
ANALYTICS_BATCH_SIZE=100
ANALYTICS_FLUSH_INTERVAL=30000

TEST_DATABASE_URL=postgresql://postgres:Yaksh@2610@localhost:5432/lomash_wood_orders_test?schema=public
TEST_REDIS_URL=redis://localhost:6379/1
TEST_STRIPE_KEY=sk_test_51xxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TEST_TIMEOUT=30000

DEBUG=false
VERBOSE_LOGGING=false
MOCK_PAYMENT_GATEWAY=false
MOCK_EXTERNAL_SERVICES=false