NODE_ENV=development
SERVICE_NAME=customer-service
PORT=4006
API_PREFIX=/api/v1
LOG_LEVEL=info

DATABASE_URL=postgresql://postgres:Yaksh@2610@localhost:5432/lomash_wood_customers?schema=public
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_CONNECTION_TIMEOUT_MS=5000
DATABASE_QUERY_TIMEOUT_MS=10000

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=3
REDIS_KEY_PREFIX=lomash:customer:
REDIS_TTL_SECONDS=3600
REDIS_TLS_ENABLED=false

JWT_ACCESS_SECRET=your_jwt_access_secret_here
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here
JWT_ALGORITHM=HS256
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

AUTH_SERVICE_URL=http://localhost:4001
AUTH_SERVICE_INTERNAL_TOKEN=your_internal_service_token_here
AUTH_SERVICE_TIMEOUT_MS=5000

API_GATEWAY_URL=http://localhost:4000
INTERNAL_API_SECRET=your_internal_api_secret_here

CORS_ALLOWED_ORIGINS=http://localhost:3000,https://lomashwood.co.uk,https://www.lomashwood.co.uk
CORS_ALLOWED_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Request-ID
CORS_CREDENTIALS=true
CORS_MAX_AGE=86400

RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=200
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
RATE_LIMIT_REVIEW_WINDOW_MS=3600000
RATE_LIMIT_REVIEW_MAX=10

KAFKA_BROKERS=localhost:9092
KAFKA_CLIENT_ID=customer-service
KAFKA_GROUP_ID=customer-service-group
KAFKA_TOPIC_PROFILE_UPDATED=lomash.customer.profile.updated
KAFKA_TOPIC_REVIEW_CREATED=lomash.customer.review.created
KAFKA_TOPIC_SUPPORT_TICKET_CREATED=lomash.customer.support.ticket.created
KAFKA_TOPIC_LOYALTY_POINTS_EARNED=lomash.customer.loyalty.points.earned
KAFKA_TOPIC_USER_CREATED=lomash.auth.user.created
KAFKA_TOPIC_ORDER_COMPLETED=lomash.order.payment.order.completed
KAFKA_TOPIC_BOOKING_COMPLETED=lomash.appointment.booking.completed
KAFKA_SSL_ENABLED=false
KAFKA_SASL_MECHANISM=plain
KAFKA_SASL_USERNAME=
KAFKA_SASL_PASSWORD=

NOTIFICATION_SERVICE_URL=http://localhost:4007
NOTIFICATION_SERVICE_TIMEOUT_MS=5000

PROFILE_MAX_ADDRESSES=10
PROFILE_ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp
PROFILE_MAX_AVATAR_SIZE_MB=5

WISHLIST_MAX_ITEMS=100

REVIEW_MIN_RATING=1
REVIEW_MAX_RATING=5
REVIEW_MAX_IMAGES=5
REVIEW_MAX_IMAGE_SIZE_MB=10
REVIEW_MODERATION_ENABLED=true
REVIEW_AUTO_APPROVE=false

SUPPORT_TICKET_DEFAULT_PRIORITY=medium
SUPPORT_SLA_RESPONSE_HOURS=24
SUPPORT_MAX_ATTACHMENTS=5
SUPPORT_MAX_ATTACHMENT_SIZE_MB=20
SUPPORT_ALLOWED_ATTACHMENT_TYPES=image/jpeg,image/png,image/webp,application/pdf

LOYALTY_POINTS_PER_POUND=1
LOYALTY_POINTS_EXPIRY_DAYS=365
LOYALTY_MIN_REDEMPTION_POINTS=100
LOYALTY_POINTS_TO_GBP_RATE=0.01

AWS_REGION=eu-west-2
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_S3_BUCKET_CUSTOMER=lomash-wood-customer-assets
AWS_S3_PRESIGNED_URL_EXPIRES_SECONDS=3600
CDN_BASE_URL=https://cdn.lomashwood.co.uk

PAGINATION_DEFAULT_PAGE=1
PAGINATION_DEFAULT_LIMIT=20
PAGINATION_MAX_LIMIT=100

SEARCH_INDEX_REBUILD_CRON=0 2 * * *

CRON_EXPIRE_LOYALTY_POINTS=0 1 * * *
CRON_SYNC_CUSTOMER_DATA=0 3 * * *
CRON_ANONYMIZE_INACTIVE_USERS=0 4 1 * *
CRON_REBUILD_CUSTOMER_INDEX=0 2 * * *

INACTIVE_USER_THRESHOLD_DAYS=730

DATA_RETENTION_DAYS=2555
ANONYMISE_AFTER_DELETION=true
GDPR_REQUEST_EXPIRY_DAYS=30

SERVER_REQUEST_TIMEOUT_MS=30000
SERVER_KEEP_ALIVE_TIMEOUT_MS=65000
SERVER_BODY_LIMIT=10mb
SERVER_GRACEFUL_SHUTDOWN_TIMEOUT_MS=15000

LOG_FORMAT=json
LOG_COLORIZE=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=customer-service
SENTRY_DSN=https://your_sentry_dsn@sentry.io/your_project_id
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

HEALTH_CHECK_PATH=/health
HEALTH_CHECK_DB_TIMEOUT_MS=3000
HEALTH_CHECK_REDIS_TIMEOUT_MS=1000