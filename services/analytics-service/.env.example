NODE_ENV=development
PORT=4008
SERVICE_NAME=analytics-service
SERVICE_VERSION=1.0.0

DATABASE_URL=postgresql://postgres:Yaksh@2610@localhost:5432/lomash_wood_analytics?schema=public
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_ACQUIRE_TIMEOUT=60000
DATABASE_IDLE_TIMEOUT=10000

REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=6
REDIS_KEY_PREFIX=analytics:
REDIS_TTL_DEFAULT=3600
REDIS_TTL_DASHBOARD=300
REDIS_TTL_REPORT=600
REDIS_TTL_FUNNEL=900

CORS_ORIGINS=http://localhost:3000,http://localhost:3001
CORS_CREDENTIALS=true

RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=200
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false

LOG_LEVEL=debug
LOG_FORMAT=pretty
LOG_FILE_ENABLED=false
LOG_FILE_PATH=logs/analytics-service.log

EVENT_BUS_BROKER=redis
EVENT_BUS_HOST=localhost
EVENT_BUS_PORT=6379
EVENT_BUS_PASSWORD=
EVENT_BUS_CONSUMER_GROUP=analytics-service-group
EVENT_BUS_CONSUMER_ID=analytics-service-1

API_GATEWAY_URL=http://localhost:4000
AUTH_SERVICE_URL=http://localhost:4001
PRODUCT_SERVICE_URL=http://localhost:4002
ORDER_SERVICE_URL=http://localhost:4003
APPOINTMENT_SERVICE_URL=http://localhost:4004
CUSTOMER_SERVICE_URL=http://localhost:4006

INTERNAL_SERVICE_SECRET=change-this-to-a-secure-random-secret

CRON_RECOMPUTE_FUNNELS=0 */6 * * *
CRON_PURGE_OLD_EVENTS=0 2 * * *
CRON_REBUILD_DASHBOARDS=0 4 * * *
CRON_ARCHIVE_HISTORICAL=0 3 * * 0

EVENT_RETENTION_DAYS=90
REPORT_CACHE_TTL=3600
DASHBOARD_REFRESH_INTERVAL=300
FUNNEL_RECOMPUTE_INTERVAL=21600

REQUEST_TIMEOUT_MS=30000
GRACEFUL_SHUTDOWN_TIMEOUT_MS=15000

EXPORT_MAX_ROWS=100000
EXPORT_TEMP_DIR=/tmp/analytics-exports

TRACKING_BATCH_SIZE=100
TRACKING_FLUSH_INTERVAL_MS=5000